---
sidebar_position: 6
---

QR Codes
This guide will show you how to generate QR codes that will take users to your checkout.
This function initializes a payment session based on the checkoutDetails you pass in. This QR Code will open a hosted checkout page that will allow the user to select a payment method and complete the payment.
## 1. Import the SDK
You need to use the Pay Theory Web SDK. This is available by adding the below script into your web header.

```jsx
<script src="https://carefeed.sdk.paytheorystudy.com/index.js"></script>
```
*** 

## 2. Add Pay theory element to your Html
This div is used to mount an iframe that will include a checkout button. You need to add the Pay Theory elements to your HTML. You can place these elements anywhere in your HTML and the SDK will place the QR Code in the correct place. 

```jsx
<div id="pay-theory-checkout-qr"></div>
```
***

## 3. Prepare the QRCode
```jsx
//Amount passed in is in cents
const AMOUNT = 1000

const PAYMENT_METADATA = {
  "student-name": "Jane Doe"
};

// Parameters that you will pass in to configure the checkout page that opens when the qrCode is scanned.
const CHECKOUT_DETAILS = { 
        amount: AMOUNT, 
        paymentName: "School Technology Fees",
        acceptedPaymentMethods: paytheory.CARD_ONLY, 
        payorId: "pt_pay_XXXXXXXXX", 
        metadata: PAYMENT_METADATA,  
        recurringId: "pt_rec_XXXXXXXXX", 
}


const OPTIONS = {
  apiKey: "PT_API_KEY",
  checkoutDetails: CHECKOUT_DETAILS,
  size: 150,
  onReady: () => {},
  onError: () => {},
  onSuccess: () => {}
}
paytheory.qrCode(OPTIONS)
```
These are the values that you can pass into the qrCode function to customize the payment session.
You pass a single object into the function with the following keys.

### Required Values:

* |Key                      |type               |description                                                                                |
--------------------------|-------------------|-------------------------------------------------------------------------------------------|     
|`apiKey`                 |String             |The API key for your Pay Theory account. You can find this in your Pay Theory Portal.|
|`checkoutDetails`        |Object             |The details for the checkout page that opens when the qrCode is scanned. Details Below.|

* #### Optional Values

* |Key                      |type               |description                                                                                |
--------------------------|-------------------|-------------------------------------------------------------------------------------------|     
|`size`                   |Int                |This is the size, height and width, of the qrCode in pixels. Defaults to 128 and must be above 128 and below 300.|
|`onReady`                |Function           |A function that will be called when the qrCode is ready to be displayed.|
|`onError`                |Function           |A function that will be called when an error occurs. It is passed an error string.|
|`onSuccess`              |Function           |A function that will be called when the payment is successful. It is passed an object with the following values. <ul><li>last_four (String): The last four digits of the card number or account number.</li><li>amount (Int): The amount of the transaction (service fee is included).</li><li>service_fee (Int): The service fee of the transaction.</li><li>receipt_number (String): The Pay Theory receipt number.</li><li>brand (String): The brand of the card.</li><li>created_at (String): The date and time the transaction was created.</li><li>state (String): The status of the transaction.</li><li>metadata (JSON): The metadata of the transaction.</li><li>payor_id (String): The Pay Theory id for the payor that was used for the transaction.</li><li>payment_method_id (String): The Pay Theory id for the payment method token.</li></ul>  

### Checkout Details

* These are the values that you can pass into the checkoutDetails object to customize the checkout page that opens when the qrCode is scanned.

*  #### Required values:

* |Key                |type               |description                                                                                |
--------------------|-------------------|-------------------------------------------------------------------------------------------|     
|`Amount`           |int                |The amount of the payment in cents.                                           |
|`paymentName`      |String             |The name of the payment that will be displayed on the checkout page. Will also be passed in to the reference field of the transaction.|

* #### Optional values:

* |Key                      |type               |description                                                                                |
--------------------------|-------------------|-------------------------------------------------------------------------------------------|     
|`acceptedPaymentMethods` |String             |<ul><li> The payment methods that will be accepted for the payment. Defaults to `paytheory.ALL`.</li><li>Constants are available from the SDK.</li><li>Available options are `paytheory.ONLY_CARD`, `paytheory.ONLY_ACH`, `paytheory.ONLY_CASH`, `paytheory.NOT_CARD`,  `paytheory.NOT_ACH`, `paytheory.NOT_CASH`, and `paytheory.ALL`.</li></ul> |
|`payorId`                |String             |The Pay Theory id for the payor that will be used for the payment. If this is not passed in, a new payor will be created.|
|`metadata`               |JSON               |The metadata that will be passed into the transaction.|
|`recurring ID `          |String             |<ul><li>The Pay Theory recurring ID to use for the payment. Allows for users to assign a payment to a recurring payment.</li><li>If you pass in a recurring ID, the transaction amount must be an interval of the recurring payments amount per payment.</li></ul>|

***

## <ins> Next Steps </ins>
You may also make reference to various payment methods like [`ACH`](ACH.mdx) and [`Cash`](CashPayments.mdx) capability.


