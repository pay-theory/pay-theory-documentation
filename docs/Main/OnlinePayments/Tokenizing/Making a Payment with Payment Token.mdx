---
sidebar_position: 3
sidebar_label: 'Making a Payment with Payment Tokens'
title: ""
---


import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Admonition from '@theme/Admonition';

<Tabs
  defaultValue="javascript"
  values={[
    {label: 'Javascript', value: 'javascript'},
    {label: 'Apple', value: 'apple'},
    {label: 'Android', value: 'android'},
  ]}>
  <TabItem value="javascript">
  <h1> Making a Payment with Payment Tokens </h1>
  This guide will walk you through how to make a one time payment by using the payment token.
<h2> Create one time payment </h2>
Sensitive information like credit card numbers or bank account numbers are replaced by the payment token.

```graphql
mutation {
  createOneTimePayment(amount: Int, 
          merchant_uid: String, 
          payment_method_id: String, 
          account_code: String, 
          currency: String, 
          fee: Int, 
          fee_mode: FeeMode,
          invoice_id: String, 
          metadata: JSON) {
    amount
    card_brand
    created_at
    currency
    last_four
    service_fee
    status
    transaction_id
  }
}
```

### Required Arguments
|Key                |type         |       description                     |
|-------------------|-------------|---------------------------------------|     
|`amount`           |Int        |The amount of the transaction. If the FeeMode is SERVICE_FEE, this is the amount of the transaction before fees.|
|`merchant_uid`     |String      |The Pay Theory unique identifier for the merchant the transaction is for.|
|`payment_method_id` |String     |The Pay Theory unique identifier for the payment method the transaction will be charged to.|
|`fee`      |Int        |If your fee mode is SERVICE_FEE, you must also pass in the fee and fee_mode arguments. The amount of the fee that will be charged to the payor for the transaction if the FeeMode is SERVICE_FEE.|
|`fee_mode` |FeeMode    |The fee mode on the transaction. SERVICE_FEE charges the fees to the payor. MERCHANT_FEE charges the fees to the merchant. Options are<ul><li>SERVICE_FEE</li><li>MERCHANT_FEE(default)</li></ul>|


### Optional Arguments

|Key                 |type             |description                                 |
|---------------------|-----------------|--------------------------------------------|    
|`account_code`     |String     | Customer defined account code for the transaction.|
|`currency`         |String     |The type of currency for the transaction. Defaults to USD.|
|`invoice_id`       |String     | The Pay Theory unique identifier for the invoice the transaction is for.|
|`metadata`        |JSON        |Custom defined JSON object to be stored with the transaction.|

***

## Returns
The results presented below show that the query was successfully run and that every token was shown on the terminal in JSON format.
``` json
{
    "data": {
        "createOneTimePayment": {
            status: TransactionStatus
            amount: Int
            card_brand: String
            last_four: String
            service_fee: Int
            currency: String
            transaction_id: String
            created_at: DateTime
        }
    }
}
```

|Key                 |type             |description                                 |
|--------------------|-----------------|--------------------------------------------|    
|`status`       |TransactionStatus  |The status of the transaction. Options are:<ul><li>PENDING</li><li>SUCCEEDED</li><li>FAILED</li></ul> |
|`amount`       |Int        |The amount of the transaction. This is the amount after fees if the FeeMode is SERVICE_FEE.|
|`card_brand`       |String     |The brand of the card used for the transaction.|
|`last_four`    |String     |The last four digits of the card or bank account used for the transaction.|
|`service_fee`  |Int        |The amount of the service fee charged for the transaction. This will be 0 if the FeeMode is MERCHANT_FEE.|
|`currency`     |String     |The type of currency for the transaction.|
|`transaction_id`   |String     |The Pay Theory unique identifier for the transaction.|
|`created_at`       |DateTime       |The date and time the transaction was created.|

***

## Next Steps
You can also refer to Recurring payment here [Recurring Payments](../../Recurring%20Payments/Quickstart/Update%20Recurring%20Payments.md).

  </TabItem>

  <TabItem value="apple">
  
  <h1 style={{marginTop: "24px"}}>Coming Soon</h1>
  
  </TabItem>
  <TabItem value="android">
  
  <h1 style={{marginTop: "24px"}}>Coming Soon</h1>
  </TabItem>
</Tabs>  
























